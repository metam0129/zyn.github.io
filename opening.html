<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Happy birthday,and not just birthdays, but every day">
  <meta name="description" content="这里看起来有点单调，本来是有几个选择想做个选择题呢，可惜咱能力不足">
  <meta name="keywords" content="YaYa，祝你生日快乐啊！！！----马森森">
  <title>Opening 开篇 一</title>
  <link href="https://fonts.googleapis.com/css?family=Poppins:600" rel="stylesheet"><link rel="stylesheet" href="opening.css">

  <style>

    .img{
        width: 100px;
        height: 100px;
        position: absolute;
        background-image: url('goat.gif');
        background-size: cover;
    }
</style>
</head>
<body>

<!-- partial:index.partial.html -->

<!-- <iframe src="music.html" scrolling="no" width="0" height="0" frameborder="0"></iframe> -->

<a href="prologue.html">
  <button class="c-smileyButton">
    <div class="c-smileyButton__hoverListener"></div>
    <div class="c-smileyButton__hoverListener"></div>
    <span class="c-smileyButton__face"></span>

    &nbsp;点我哇
  </button>
</a>

<div class="img"></div>

<script>
  let img = document.querySelector('.img')
  // 定义小图片的旋转角度
  let deg = 0
  // 定义小图片位于网页左侧的位置
  let imgx = 0
  // 定义小图片位于网页顶部的位置
  let imgy = 0
  // 定义小图片x轴的位置
  let imgl = 0
  // 定义小图片y轴的位置
  let imgt = 0
  // 定义小图片翻转的角度
  let y = 0 
  // 定义一个计数器
  let index = 0

  window.addEventListener('mousemove',function(xyz){
      // 获取网页左侧距离的图片位置
      imgx = xyz.x - img.offsetLeft - img.clientWidth /2
      // 多去网页顶部距离图片的位置
      imgy = xyz.y - img.offsetTop - img.clientHeight /2
      // 套入公式，定义图片的旋转角度
      deg = 360*Math.atan(imgy/imgx)/(2*Math.PI)
      // 每当鼠标移动的时候重置index
      index= 0
      // 定义当前鼠标的位置
      let x = event.clientX
      // 当鼠标的x轴大于图片的时候，提普安就要对着鼠标，所以需要将图片翻转过来
      // 否则就不用翻转
      if(img.offsetLeft<x){
          y=-180
      }else{
          y=0
      }
  })
  setInterval(()=>{
      // 设置小图片的旋转和翻转
      img.style.transform = "rotateZ("+deg+"deg) rotateY("+y+"deg)"
      index++
      // 在这里设置小图片的位置和速度，并判断小图片到达鼠标位置时停止移动
      if(index<50){
          imgl+=imgx/50
          imgt+=imgy/50
      }
      img.style.left = imgl+"px"
      img.style.top = imgt+"px"
  },10)
</script>
</body>
</html>
